asset.registerSceneGraphNodes = function (sceneAsset, nodes)
    local oldInit = sceneAsset.onInitialize;
    sceneAsset.onInitialize = function ()
        for i, node in ipairs(nodes) do
            openspace.addSceneGraphNode(node) 
        end
        oldInit()
    end

    local oldDeinit =  sceneAsset.onDeinitialize;
    sceneAsset.onDeinitialize = function ()
        for i = #nodes, 1, -1 do
            node = nodes[i]
            openspace.removeSceneGraphNode(node.Name)
        end
        oldDeinit()
    end
end

asset.registerSpiceKernels = function (spiceAsset, kernels)
    local oldInit = spiceAsset.onInitialize;
    spiceAsset.onInitialize = function ()
        print "loading spice kernels...."
        for i, kernel in ipairs(kernels) do
            openspace.spice.loadKernel(kernel) 
        end
        oldInit()
    end

    local oldDeinit =  spiceAsset.onDeinitialize;
    spiceAsset.onDeinitialize = function ()
        for i = #kernels, 1, -1 do
            kernel = kernels[i]
            openspace.spice.unloadKernel(kernel) 
        end
        oldDeinit()
    end
end