Sun = import('sun');

EarthBarycenter = {
    Name = "EarthBarycenter",
    Parent = Sun.SceneGraphNodes.SolarSystemBarycenter.Name,
    Transform = {
        Translation = {
            Type = "SpiceTranslation",
            Body = "EARTH",
            Observer = "SUN",
            Kernels = "${OPENSPACE_DATA}/spice/de430_1850-2150.bsp"
        }
    }
}

EarthInertial = {
    -- The default reference frame for Earth-orbiting satellites
    Name = "EarthInertial",
    Parent = EarthBarycenter.Name,
    Transform = {
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "J2000",
            DestinationFrame = "GALACTIC",
        }
    },z
}

Earth = {
    Name = "Earth",
    Parent = EarthBarycenter.Name,
    Renderable = {
        Type = "RenderablePlanet",
        Frame = "IAU_EARTH",
        Body = "EARTH",
        Geometry = {
            Type = "SimpleSphere",
            Radius = 6.371E6,
            Segments = 100
        },
        Textures = {
            Type = "simple",
            Color = syncedResource("textures/earth_bluemarble.jpg"),
            --Color = Sun.syncedResource("textures/sun.jpg"),
            Night = syncedResource("textures/earth_night.jpg"),
            Height = syncedResource("textures/earth_bluemarble_height.jpg")
        },
        Atmosphere = {
            Type = "Nishita", -- for example, values missing etc etc
            MieFactor = 1.0,
            MieColor = {1.0, 1.0, 1.0}
        }
    },
    Tag = {"planet_solarSystem", "planet_terrestrial"},
    Transform = {
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "IAU_EARTH",
            DestinationFrame = "GALACTIC",
        },
        Scale = {
            Type = "StaticScale",
            Scale = 1,
        },
    },
    GuiName = "/Solar/Planets/Earth"

}

EarthTrail = {
    Name = "EarthTrail",
    Parent = Sun.SceneGraphNodes.SolarSystemBarycenter.Name,
    Renderable = {
        Type = "RenderableTrailOrbit",
        Translation = {
            Type = "SpiceTranslation",
            Body = "EARTH",
            Observer = "SUN"
        },
        Color = { 0.5, 0.8, 1.0 },
        -- StartTime = "2016 JUN 01 12:00:00.000",
        -- EndTime = "2017 JAN 01 12:00:00.000",
        -- SampleInterval = 3600
        Period = 365.242,
        Resolution = 1000,
        Tag = {"planetTrail_solarSystem", "planetTrail_terrestrial"}
    },
    GuiName = "/Solar/EarthTrail",
}

EarthMarker = {
    Name = "EarthMarker",
    Parent = Earth.Name,
    Renderable = {
        Type = "RenderablePlane",
        Size = 3.0E11,
        Origin = "Center",
        Billboard = true,
        Texture = syncedResource("textures/marker.png"),
        BlendMode = "Additive"
    }
}

export({
    SceneGraphNodes = {
        EarthBarycenter = EarthBarycenter,
        EarthInertial = EarthInertial,
        Earth = Earth,
        EarthTrail = EarthTrail,
        EarthMarker = EarthMarker
    }
})